<ion-content>
  <img class="graphic" src="/assets/imgs/page-graphic.png"/>
  <ion-row class="login-title">
    <ion-col>
      <ion-label>
        Sign Up
      </ion-label>
      <ion-icon name="person-add-outline"></ion-icon>
    </ion-col>
  </ion-row>
  
<div class="page-content">
  <ion-toast
  class="error-toast"
  isOpen="{{showErrorToast}}"
  message="{{errorToastText}}"
  duration="2000"
  position="top"
  (ionToastDidDismiss)="showErrorToast = false">
  </ion-toast>
  
  <ion-toast
  class="success-toast"
  isOpen="{{showSuccessToast}}"
  message="{{successToastText}}"
  duration="2000"
  position="top"
  (ionToastDidDismiss)="showSuccessToast = false">
  </ion-toast>
  
  <ion-toast
  class="password-toast"
  isOpen="{{showPasswordToast}}"
  message="{{passwordToastText}}"
  duration="11000"
  position="top"
  (ionToastDidDismiss)="showPasswordToast = false">
  </ion-toast>
  

  <ion-row class="logo">
    <ion-col>
      <img src="assets/imgs/logo.png" (click)="navigateToLoginPage()">
    </ion-col>
  </ion-row>

  
  <form [formGroup]="signupForm" (ngSubmit)="signUp($event)" novalidate>

    <div class="personal-details form-section">
      <h1>Personal Details</h1>
      <ion-input
        formControlName="firstName"
        id="firstName"
        mode="md"
        label-placement="floating"
        name="firstName"
        fill="outline"
        type="text"
      ><div slot="label">First Name <ion-text color="danger">(Required)</ion-text></div></ion-input>
      <ion-input
        formControlName="lastName"
        id="lastName"
        mode="md"
        name="lastName"
        label-placement="floating"
        fill="outline"
        type="text"
      ><div slot="label">Last Name <ion-text color="danger">(Required)</ion-text></div></ion-input>

      <!-- Date  -->
      <ion-item class="dob" lines="none">
        <ion-label>Date of Birth</ion-label>
        <ion-datetime-button *ngIf="selectedDate" datetime="dob"></ion-datetime-button>
        <ion-button *ngIf="!selectedDate" (click)="openPicker()">Select Date</ion-button>
        <ion-modal
        style="--background: transparent;"
        [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime
            style=" --background: #e1f9e1;
            --background-rgb: 255, 241, 242;
            border-radius: 16px;"
            id="dob"
            color="success"
            presentation="date"
            [preferWheel]="true"
            [showDefaultButtons]="true"
            (ionCancel)="clearDate()"
            (ionChange)="onDateChange($event)">
          </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-item>

      <ion-input
        formControlName="phoneNumber"
        id="phoneNumber"
        mode="md"
        name="phoneNumber"
        label="Phone Number"
        label-placement="floating"
        fill="outline"
        type="text"
      ></ion-input>
      <ion-input
        formControlName="occupation"
        id="occupation"
        mode="md"
        label="Occupation"
        label-placement="floating"
        name="occupation"
        fill="outline"
        type="text"
      ></ion-input>
    </div>

    <div class="address form-section">
      <h1>Address</h1>
      <ion-input
        formControlName="addressLineOne"
        id="addressLineOne"
        mode="md"
        label="Address Line One"
        label-placement="floating"
        name="addressLineOne"
        fill="outline"
        type="text"
      ></ion-input>
      <ion-input
        formControlName="addressLineTwo"
        id="addressLineTwo"
        mode="md"
        label="Address Line Two"
        label-placement="floating"
        name="addressLineTwo"
        fill="outline"
        type="text"
      ></ion-input>
      <ion-input
        formControlName="addressCity"
        id="addressCity"
        mode="md"
        label="City"
        label-placement="floating"
        name="addressCity"
        fill="outline"
        type="text"
      ></ion-input>
      <ion-input
        formControlName="addressZipCode"
        id="addressZipCode"
        mode="md"
        label="Zip Code"
        label-placement="floating"
        name="addressZipCode"
        fill="outline"
        type="text"
      ></ion-input>
      <ion-input
        formControlName="addressState"
        id="addressState"
        mode="md"
        label="State"
        label-placement="floating"
        name="addressState"
        fill="outline"
        type="text"
      ></ion-input>
      <ion-input
        formControlName="addressCountry"
        id="addressCountry"
        mode="md"
        label="Country"
        label-placement="floating"
        name="addressCountry"
        fill="outline"
        type="text"
      ></ion-input>
    </div>

    <div class="weight-and-height form-section">
      <h1>Weight and Height</h1>
      <ion-input
        formControlName="height"
        label-placement="floating"
        id="height"
        mode="md"
        name="height"
        fill="outline"
      >
        <div slot="label">Height <ion-text color="danger">(Required)</ion-text></div>
        <ion-label slot="end">cm</ion-label>
      </ion-input>
      <ion-input
        formControlName="weight"
        label-placement="floating"
        id="weight"
        mode="md"
        name="weight"
        fill="outline"
        type="text"
      >
        <div slot="label">Weight <ion-text color="danger">(Required)</ion-text></div>
        <ion-label slot="end">kg</ion-label>
      </ion-input>
      <ion-input
        formControlName="goalWeight"
        label-placement="floating"
        id="goalWeight"
        mode="md"
        name="goalWeight"
        fill="outline"
        type="text"
      >
        <div slot="label">Goal Weight <ion-text color="danger">(Required)</ion-text></div>
        <ion-label slot="end">kg</ion-label>
      </ion-input>
    </div>

    <div class="goals-and-preferences form-section">
      <h1>Goals and Preferences</h1>
      <ion-list class="diet">
        <ion-item lines="none" class="diet-item">
          <ion-select
              formControlName="dietaryPreference"
              name="dietaryPreference"
              class="diet-select" 
              aria-label="diet"
              label-placement="floating">
            <ion-select-option value="omnivore">Omnivore</ion-select-option>
            <ion-select-option value="pescatarian">Pescatarian</ion-select-option>
            <ion-select-option value="vegetarian">Vegetarian</ion-select-option>
            <ion-select-option value="vegan">Vegan</ion-select-option>
            <ion-select-option value="other">Other</ion-select-option>
            <div slot="label">Dietary Preference <ion-text color="danger">(Required)</ion-text></div>
          </ion-select>
        </ion-item>
      </ion-list>

      <ion-list class="goals">
        <ion-item lines="none" class="goals-item">
          <ion-select 
              formControlName="goals"
              name="goals"
              aria-label="goals"
              label-placement="floating">
            <ion-select-option value="lose-weight">Lose weight</ion-select-option>
            <ion-select-option value="gain-weight">Gain weight</ion-select-option>
            <ion-select-option value="energy-and-vitality">Energy and vitality</ion-select-option>
            <ion-select-option value="eat-healthier">Eat healthier</ion-select-option>
            <ion-select-option value="pregnancy">Pregnancy</ion-select-option>
            <ion-select-option value="other">Other</ion-select-option>
            <div slot="label">Dietary Goals <ion-text color="danger">(Required)</ion-text></div>
          </ion-select>
        </ion-item>
      </ion-list>
    </div>

    <div class="additionl-information form-section">
      <h1>Additional information</h1>
      <ion-textarea
      class="reason-for-seeking-professional"
      formControlName="reasonSeekProfessional"
      id="reasonSeekProfessional"
      mode="md"
      name="reasonSeekProfessional"
      labelPlacement="floating" 
      fill="outline">
      <div slot="label">Reason for seeking a professional <ion-text color="danger">(Required)</ion-text></div>
    </ion-textarea>
      <!-- <ion-textarea
        formControlName="currExerciseRoutine"
        id="currExerciseRoutine"
        mode="md"
        name="currExerciseRoutine"
        label="What is your current exercise routine?"
        label-placement="floating"
      ></ion-textarea> -->
      <ion-textarea
      formControlName="currExerciseRoutine"
      id="currExerciseRoutine"
      mode="md"
      name="currExerciseRoutine"    
      label="What is your current exercise routine?" 
      labelPlacement="floating" 
      fill="outline">
      </ion-textarea>
      <!-- <ion-textarea
        formControlName="medicalInfo"
        id="medicalInfo"
        mode="md"
        name="medicalInfo"
        label="Medical Info"
        label-placement="floating"
      ></ion-textarea> -->
      <ion-textarea
      formControlName="medicalInfo"
      id="medicalInfo"
      mode="md"
      name="medicalInfo"
      label="Medical Info"
      label-placement="floating"
      fill="outline">
      </ion-textarea>
    </div>

    <!-- PASSWORD -->
    <h1>Create Account</h1>
    <ion-input
    formControlName="email"
    id="email"
    mode="md"
    name="email"
    fill="outline"
    type="email"
    label-placement="floating"
  ><div slot="label">Email <ion-text color="danger">(Required)</ion-text></div></ion-input>
    <ion-input
      formControlName="password"
      id="password"
      mode="md"
      fill="outline"
      type="password"
      label-placement="floating"
      [type]="passIsVisible ? 'text' : 'password'"
    ><div slot="label">Password <ion-text color="danger">(Required)</ion-text></div>
      <ion-button (click)="changeEyeIcon()" fill="clear" slot="end" aria-label="Show/hide">
        <ion-icon slot="icon-only" name="{{currentIconName}}"></ion-icon>
      </ion-button>
    </ion-input>
    <ion-input
      formControlName="confirmPassword"
      id="confirmPassword"
      mode="md"
      fill="outline"
      type="password"
      label-placement="floating"
    ><div slot="label">Confirm Password <ion-text color="danger">(Required)</ion-text></div></ion-input>
    <!-- END PASSWORD -->

    <ion-button type="submit" class="sign-up" size="large" expand="block">Sign Up</ion-button>
  </form>
   
  <ion-row class="log-in">
    <ion-col>
      <ion-text>Already have an account? <span [routerLink]="['/login']">Log in</span></ion-text>
    </ion-col>
  </ion-row>
</div>
 

</ion-content>
